(this["webpackJsonpflexible-interval-timer"]=this["webpackJsonpflexible-interval-timer"]||[]).push([[0],{107:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(0),s=a.n(i),r=a(10),c=a.n(r),l=a(64),o=a(39),u=a(40),d=a(12),h=a(42),m=a(41),j=(a(107),a(70)),b=a(89),f=a(165),p=a(6),x=a(169),g=a(166),O=a(167),y=a(86),v=a.n(y),k=a(87),S=a.n(k),w=a(88),T=a.n(w),N=a(156),E=a(154),C=a(121),I=Object(E.a)((function(e){return{timeText:{color:e.palette.primary.main,userSelect:"none"},timerContainer:{width:350,height:350,borderRadius:"50%",borderColor:e.palette.primary.main}}}));function P(e){var t=e.hr,a=e.min,i=e.sec,s=I();return Object(n.jsx)(x.a,{border:1,className:s.timerContainer,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:Object(n.jsxs)(N.a,{container:!0,direction:"row",justify:"center",children:[Object(n.jsx)(C.a,{item:!0,variant:"h3",className:s.timeText,children:t}),Object(n.jsx)(C.a,{item:!0,variant:"h3",className:s.timeText,children:":"}),Object(n.jsx)(C.a,{item:!0,variant:"h3",className:s.timeText,children:a}),Object(n.jsx)(C.a,{item:!0,variant:"h3",className:s.timeText,children:":"}),Object(n.jsx)(C.a,{item:!0,variant:"h3",className:s.timeText,children:i})]})})}function F(e){var t=e.current,a=e.next;return Object(n.jsxs)(N.a,{container:!0,direction:"column",alignItems:"center",children:[Object(n.jsx)(C.a,{item:!0,variant:"h2",children:t}),Object(n.jsxs)(C.a,{item:!0,variant:"h5",children:["Next: ",a]})]})}var R=a(122),D=a(158),B=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.data,i=a.start,s=a.stop,r=a.reset,c=a.current,l=a.next,o=a.hr,u=a.min,d=a.sec;return Object(n.jsxs)(N.a,{container:!0,item:!0,direction:"column",alignItems:"center",justify:"space-evenly",className:t.timer,children:[Object(n.jsxs)(x.a,{item:!0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",className:t.taskDisplayContainer,children:[Object(n.jsx)(F,{current:c,next:l}),Object(n.jsx)(R.a,{onClick:function(){return e.props.func(!0)},color:"primary",variant:"outlined",size:"small",children:"Skip"})]}),Object(n.jsx)(x.a,{item:!0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",className:t.timerActual,children:Object(n.jsx)(P,{hr:o,min:u,sec:d})}),Object(n.jsx)(x.a,{item:!0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",className:t.timerButtonContainer,children:Object(n.jsxs)(D.a,{item:!0,color:"primary",size:"large",variant:"contained",children:[Object(n.jsx)(R.a,{onClick:i,children:"Start"}),Object(n.jsx)(R.a,{onClick:s,children:"Stop"}),Object(n.jsx)(R.a,{onClick:r,children:"Reset"})]})})]})}}]),a}(s.a.Component),U=Object(p.a)((function(e){return{timer:{backgroundColor:e.palette.background.paper,flexGrow:1},timerActual:{width:"70%",flexGrow:.6},taskDisplayContainer:{flexGrow:.2},timerButtonContainer:{flexGrow:.2}}}))(B),z=a(159),G=a(161),H=a(79),L=a.n(H),M=a(80),V=a.n(M),A=a(81),W=a.n(A),J=a(63),q=a.n(J),Y=a(160),K=a(168),Q=Object(E.a)((function(e){return{numInput:{width:50,marginLeft:5,marginRight:5}}}));function X(e){var t=e.disabled,a=e.hr,i=e.min,s=e.sec,r=e.editFunc,c=e.index,l=Q();return Object(n.jsxs)(N.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(n.jsx)(K.a,{item:!0,className:l.numInput,disabled:t,margin:"dense",label:"Hr",value:a,type:"number",onChange:function(e){r(c,"hr",Number(e.target.value))},InputLabelProps:{shrink:!0}}),Object(n.jsx)(K.a,{item:!0,className:l.numInput,disabled:t,margin:"dense",label:"Min",value:i,type:"number",onChange:function(e){r(c,"min",Number(e.target.value))},InputLabelProps:{shrink:!0}}),Object(n.jsx)(K.a,{item:!0,className:l.numInput,disabled:t,margin:"dense",label:"Sec",value:s,type:"number",onChange:function(e){r(c,"sec",Number(e.target.value))},InputLabelProps:{shrink:!0}})]})}function Z(e){var t=e.index,a=e.isFirst,i=e.isLast,s=e.editable,r=e.entry,c=e.upFunc,l=e.downFunc,o=e.delFunc,u=e.addFunc,d=e.editFunc;return Object(n.jsx)(Y.a,{divider:!0,children:Object(n.jsxs)(N.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(n.jsx)(N.a,{container:!0,item:!0,xs:2,sm:2,md:2,lg:2,xl:2,justify:"flex-start",alignItems:"center",children:Object(n.jsx)(K.a,{disabled:!s,margin:"dense",value:r.name,onChange:function(e){d(t,"name",e.target.value)}})}),Object(n.jsx)(N.a,{container:!0,item:!0,xs:6,sm:6,md:6,lg:6,xl:6,justify:"center",alignItems:"center",children:Object(n.jsx)(X,{disabled:!s,hr:r.hr,min:r.min,sec:r.sec,editFunc:d,index:t})}),Object(n.jsxs)(N.a,{container:!0,item:!0,xs:4,sm:4,md:4,lg:4,xl:4,justify:"flex-end",alignItems:"center",direction:"row",children:[Object(n.jsx)(G.a,{item:!0,color:"primary",disabled:a||!s,disableElevation:!0,onClick:function(){c(t)},children:Object(n.jsx)(L.a,{})}),Object(n.jsx)(G.a,{item:!0,color:"primary",disabled:i||!s,disableElevation:!0,onClick:function(){l(t)},children:Object(n.jsx)(V.a,{})}),Object(n.jsx)(G.a,{item:!0,color:"primary",disabled:!s,disableElevation:!0,onClick:function(){u(t)},children:Object(n.jsx)(q.a,{})}),Object(n.jsx)(G.a,{item:!0,color:"primary",disabled:!s,disableElevation:!0,onClick:function(){o(t)},children:Object(n.jsx)(W.a,{})})]})]})})}var $=a(164),_=a(82),ee=a.n(_),te=a(83),ae=a.n(te),ne=function(e){return{hr:(e-e%3600)/3600%60,min:(e-e%60)/60%60,sec:e%60}},ie=function(e){return 3600*e.hr+60*e.min+e.sec},se=a(162),re=a(163),ce=a(170),le={false:Object(n.jsx)(ee.a,{}),true:Object(n.jsx)(ae.a,{})},oe=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:e.data.taskSchedule.map((function(e){return Object(l.a)({name:e.name},ne(e.period))})),editing:!1,settings:e.data.settings},n.updateSchedule=e.func.updateSchedule,n.changePage=e.func.changePage,n.setEditing=n.setEditing.bind(Object(d.a)(n)),n.shiftUpEntry=n.shiftUpEntry.bind(Object(d.a)(n)),n.shiftDownEntry=n.shiftDownEntry.bind(Object(d.a)(n)),n.deleteEntry=n.deleteEntry.bind(Object(d.a)(n)),n.addEntry=n.addEntry.bind(Object(d.a)(n)),n.editEntry=n.editEntry.bind(Object(d.a)(n)),n.changeSetting=n.changeSetting.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"shiftUpEntry",value:function(e){var t=this.state.data,a=[t[e],t[e-1]];t[e-1]=a[0],t[e]=a[1],this.setState({data:t})}},{key:"shiftDownEntry",value:function(e){var t=this.state.data,a=[t[e+1],t[e]];t[e]=a[0],t[e+1]=a[1],this.setState({data:t})}},{key:"deleteEntry",value:function(e){var t=this.state.data;t.splice(e,1),this.setState({data:t})}},{key:"addEntry",value:function(e){var t=this.state.data;t.splice(e+1,0,{name:"New Task",hr:0,min:5,sec:0}),this.setState({data:t})}},{key:"setEditing",value:function(){var e=this.state.editing;if(e){var t=this.state.data.map((function(e){return{name:e.name,period:ie({hr:e.hr,min:e.min,sec:e.sec})}})),a=this.state.settings;this.updateSchedule(t,a),this.changePage("timer")}this.setState({editing:!e})}},{key:"editEntry",value:function(e,t,a){var n=this.state.data;n[e][t]=a,this.setState({data:n})}},{key:"changeSetting",value:function(e){var t=this.state.settings;t[e.target.name]=e.target.checked,this.setState({settings:t})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.data.map((function(t,a,i){return Object(n.jsx)(Z,{index:a,isFirst:0===a,isLast:a===i.length-1,editable:e.state.editing,entry:t,upFunc:e.shiftUpEntry,downFunc:e.shiftDownEntry,delFunc:e.deleteEntry,addFunc:e.addEntry,editFunc:e.editEntry},a)}));return Object(n.jsxs)("div",{className:t.schedule,children:[Object(n.jsxs)(z.a,{children:[a,Object(n.jsx)(Y.a,{className:t.addButtonContainer,children:Object(n.jsx)(G.a,{disabled:!this.state.editing,color:"primary",onClick:function(){e.addEntry(e.state.data.length-1)},children:Object(n.jsx)(q.a,{})})})]}),Object(n.jsx)(se.a,{column:!0,className:t.settingsContainer,children:Object.entries(this.state.settings).map((function(t){return Object(n.jsx)(re.a,{control:Object(n.jsx)(ce.a,{checked:t[1],name:t[0],onChange:e.changeSetting}),label:t[0],disabled:!e.state.editing,color:"secondary"},t[0])}))}),Object(n.jsx)($.a,{color:"secondary",className:t.fab,onClick:this.setEditing,children:le[this.state.editing.toString()]})]})}}]),a}(s.a.Component),ue=Object(p.a)((function(e){return{schedule:{backgroundColor:e.palette.background.paper,overflowY:"scroll",flexGrow:1},fab:{position:"absolute",bottom:80,right:40},addButtonContainer:{display:"flex",justifyContent:"center",alignItems:"center"},settingsContainer:{position:"absolute",bottom:80,left:40}}}))(oe),de=function(e){return[(e-e%3600)/3600%60,(e-e%60)/60%60,e%60].map((function(e){return e.toString().padStart(2,"0")})).join(":")},he=a(51),me=a(84),je=["#1976d2","#dc004e","#9c27b0","#ff9800","#4caf50","#f44336","#1a237e","#e57373","#d500f9","#ffee58","#e65100","#b2ff59","#9fa8da","#fff9c4","#f50057","#004d40"],be=a(90),fe=Object(E.a)((function(e){return{chartContainer:{height:350,width:350}}}));function pe(e){var t=e.data,a=(e.func,s.a.useState(0)),i=Object(he.a)(a,2),r=i[0],c=i[1],l=fe(),o=function(e){for(var t=[],a=0,n=0,i=Object.entries(e);n<i.length;n++){var s=Object(he.a)(i[n],2),r=s[0],c=s[1];c>0&&(t.push({title:r,value:c,color:je[a%je.length]}),a++)}return t.length>0?t:null}(t);return o?Object(n.jsxs)(N.a,{container:!0,direction:"column",justify:"center",alignItems:"center","data-tip":"","data-for":"chart",className:l.chartContainer,children:[Object(n.jsx)(me.PieChart,{item:!0,data:o,lineWidth:30,paddingAngle:1,radius:40,labelPosition:55,label:function(e){return e.dataEntry.title},labelStyle:function(e){return{fontSize:"3px",fontFamily:"'Roboto', 'Helvetica', 'Arial', 'sans-serif'",pointerEvents:"none"}},className:l.pieChart,animate:!0,onMouseOver:function(e,t){c(t)},onMouseOut:function(){c(null)}}),Object(n.jsx)(be.a,{id:"chart",getContent:function(){return"number"===typeof r?function(e,t){return de(t[e].value)}(r,o):null}})]}):Object(n.jsx)(N.a,{container:!0,item:!0,direction:"column",justify:"center",alignItems:"center",className:l.summary,children:Object(n.jsx)(C.a,{variant:"h5",children:"No tasks have been done"})})}var xe=Object(E.a)((function(e){return{summary:{backgroundColor:e.palette.background.paper,flexGrow:1}}}));var ge=a(52),Oe=a.n(ge),ye=function(e){return e.toString().padStart(2,"0")},ve=a(171),ke=Object(E.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},helpContainer:{width:"70%"},helpEntry:{marginTop:5,marginBottom:5},helpButton:{position:"absolute",top:5,right:10}}}));function Se(){var e=ke(),t=s.a.useState(!0),a=Object(he.a)(t,2),i=a[0],r=a[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)(R.a,{variant:"text",color:"primary",onClick:function(){r(!i)},className:e.helpButton,size:"small",children:"Help"}),Object(n.jsx)(ve.a,{className:e.backdrop,open:i,onClick:function(){r(!1)},children:Object(n.jsxs)(N.a,{className:e.helpContainer,container:!0,direction:"column",justify:"center",alignItems:"flex-start",children:[Object(n.jsx)(C.a,{className:e.helpEntry,item:!0,variant:"h4",children:"Welcome!"}),Object(n.jsx)(C.a,{className:e.helpEntry,item:!0,variant:"body1",children:"This is a timer for making schedules of tasks of specified durations. It is great for Pomodoro, HIIT, and many situations where interval timers are needed. Once a task is done, a notification will be made."}),Object(n.jsx)(C.a,{className:e.helpEntry,item:!0,variant:"body1",children:"To begin, try the currently loaded schedule by pressing start, or click Schedule at the bottom to make your own task list. Note that you can set periods such as 90s and not worry about converting to minutes, the app will do that for you."}),Object(n.jsx)(C.a,{className:e.helpEntry,item:!0,variant:"h6",children:"What the three pages do"}),Object(n.jsx)(C.a,{className:e.helpEntry,item:!0,variant:"body1",children:"Timer: countdown of current task and display of current/next tasks."}),Object(n.jsx)(C.a,{className:e.helpEntry,item:!0,variant:"body1",children:"Schedule: customization of schedule of tasks is done."}),Object(n.jsx)(C.a,{className:e.helpEntry,item:!0,variant:"body1",children:"Summary: total time and breakdown of time use."}),Object(n.jsx)(C.a,{className:e.helpEntry,item:!0,variant:"h6",children:"Click anywhere to exit help"})]})})]})}var we={palette:{}},Te=a(69),Ne=a.n(Te),Ee=a(85);function Ce(){return(Ce=Object(Ee.a)(Ne.a.mark((function e(t,a){var n;return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.speaking&&(console.error("speechSynthesis.speaking"),a.cancel()),""!==t&&((n=new SpeechSynthesisUtterance(t)).onerror=function(e){console.error("SpeechSynthesisUtterance.onerror")},a.speak(n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}j.a.initialize("UA-176706567-3"),j.a.pageview(window.location.pathname+window.location.search);var Ie=Object(b.a)(we),Pe={timer:U,schedule:ue,summary:function(e){var t=e.data,a=e.func,i=xe(),s=de(function(e){for(var t=0,a=0,n=Object.values(e);a<n.length;a++)t+=n[a];return t}(t));return Object(n.jsxs)(N.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"center","data-tip":"","data-for":"chart",className:i.summary,children:[Object(n.jsxs)(C.a,{variant:"h4",children:["Total Time: ",s]}),Object(n.jsx)(pe,{data:t,func:a})]})}},Fe=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).timerRef=s.a.createRef(),n.state={pageValue:"timer",taskSchedule:[{name:"Task 1",period:5},{name:"Task 2",period:8},{name:"Task 3",period:10}],taskElapsedTime:{"Task 1":0,"Task 2":0,"Task 3":0},current:0,settings:{Repeat:!0}},n.nextTask=n.nextTask.bind(Object(d.a)(n)),n.fetchPageData=n.fetchPageData.bind(Object(d.a)(n)),n.updateSchedule=n.updateSchedule.bind(Object(d.a)(n)),n.startNextTask=n.startNextTask.bind(Object(d.a)(n)),n.resetTimer=n.resetTimer.bind(Object(d.a)(n)),n.resetTimerBase=n.resetTimerBase.bind(Object(d.a)(n)),n.startTimer=n.startTimer.bind(Object(d.a)(n)),n.initScheduleElapsedTime=n.initScheduleElapsedTime.bind(Object(d.a)(n)),n.showNotification=n.showNotification.bind(Object(d.a)(n)),n.changePage=n.changePage.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){"Notification"in window?Notification.requestPermission():console.log("This browser does not support desktop notification")}},{key:"showNotification",value:function(e,t){new Notification(e),function(e,t){Ce.apply(this,arguments)}(t,window.speechSynthesis)}},{key:"initScheduleElapsedTime",value:function(e){var t={};this.state.taskSchedule.forEach((function(e){t[e.name]=0})),this.setState({taskElapsedTime:t})}},{key:"updateSchedule",value:function(e,t){this.setState({taskSchedule:e,settings:t},this.resetTimerBase)}},{key:"nextTask",value:function(e){var t=e+1;return t!==this.state.taskSchedule.length||this.state.settings.Repeat?this.state.taskSchedule[t%this.state.taskSchedule.length].name:"None (Schedule Complete)"}},{key:"startNextTask",value:function(e){var t=this.state.current;this.timerRef.current.stop();var a=this.state.taskElapsedTime,n=Math.round(this.state.taskSchedule[t].period-(this.timerRef.current.getTime()-999)/1e3);a[this.state.taskSchedule[t].name]+=n,this.setState({taskElapsedTime:a});var i=(t+=1)%this.state.taskSchedule.length;this.setState({current:i}),this.timerRef.current.setTime(1e3*this.state.taskSchedule[i].period+999),(t!==this.state.taskSchedule.length||this.state.settings.Repeat)&&(e||this.timerRef.current.start())}},{key:"fetchPageData",value:function(e,t){return"timer"===e?Object(l.a)({current:this.state.taskSchedule[this.state.current].name,next:this.nextTask(this.state.current)},t):"schedule"===e?{taskSchedule:this.state.taskSchedule,settings:this.state.settings}:"summary"===e?this.state.taskElapsedTime:null}},{key:"fetchPageFunc",value:function(e){return"timer"===e?this.startNextTask:"schedule"===e?{updateSchedule:this.updateSchedule,changePage:this.changePage}:null}},{key:"resetTimerBase",value:function(){this.timerRef.current.reset()}},{key:"resetTimer",value:function(){this.timerRef.current.stop(),this.setState({current:0}),this.initScheduleElapsedTime(this.state.taskSchedule),this.timerRef.current.setTime(1e3*this.state.taskSchedule[0].period+999)}},{key:"startTimer",value:function(){this.showNotification("Current Task: "+this.state.taskSchedule[this.state.current].name,this.state.taskSchedule[this.state.current].name)}},{key:"changePage",value:function(e){this.setState({pageValue:e})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=Pe[this.state.pageValue],i=this.fetchPageFunc(this.state.pageValue);return Object(n.jsxs)(f.a,{theme:Ie,children:[Object(n.jsxs)(x.a,{className:t.root,children:[Object(n.jsx)(Oe.a,{initialTime:1e3*this.state.taskSchedule[this.state.current].period+999,direction:"backward",lastUnit:"h",startImmediately:!1,onReset:function(){e.resetTimer()},onStart:function(){e.startTimer()},formatValue:ye,timeToUpdate:200,checkpoints:[{time:999,callback:function(){e.startNextTask()}}],ref:this.timerRef,children:function(t){var s=t.start,r=t.stop,c=t.reset;return Object(n.jsx)(a,{data:e.fetchPageData(e.state.pageValue,{start:s,stop:r,reset:c,hr:Object(n.jsx)(Oe.a.Hours,{}),min:Object(n.jsx)(Oe.a.Minutes,{}),sec:Object(n.jsx)(Oe.a.Seconds,{})}),func:i})}}),Object(n.jsxs)(g.a,{value:this.state.pageValue,onChange:function(t,a){e.changePage(a)},showLabels:!0,className:t.navBar,children:[Object(n.jsx)(O.a,{label:"Timer",value:"timer",icon:Object(n.jsx)(v.a,{})}),Object(n.jsx)(O.a,{label:"Schedule",value:"schedule",icon:Object(n.jsx)(S.a,{})}),Object(n.jsx)(O.a,{label:"Summary",value:"summary",icon:Object(n.jsx)(T.a,{})})]})]}),Object(n.jsx)(Se,{})]})}}]),a}(s.a.Component),Re=Object(p.a)((function(e){return{root:{minWidth:"100vw",maxWidth:"100vw",minHeight:"100vh",maxHeight:"100vh",display:"flex",flexFlow:"column",alignItems:"stretch"},page:{flexGrow:1},navBar:{}}}))(Fe);a(117);c.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(Re,{})}),document.getElementById("root"))}},[[118,1,2]]]);
//# sourceMappingURL=main.74137426.chunk.js.map